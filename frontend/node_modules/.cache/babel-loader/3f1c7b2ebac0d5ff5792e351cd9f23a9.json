{"ast":null,"code":"var _jsxFileName = \"/home/filip/Desktop/facial-animation/frontend/src/components/Login.js\";\n// https://serverless-stack.com/chapters/create-a-login-page.html\nimport React, { Component } from \"react\";\nimport { Button, FormGroup, FormControl, FormLabel } from \"react-bootstrap\"; // import \"./Login.css\";\n\nimport axios from 'axios';\nimport { login, authFetch, useAuth, logout } from \"../auth\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\",\n      status: \"FALSE\"\n    }; // const history = useHistory();\n\n    this.validateForm = this.validateForm.bind(this);\n    this.validateData = this.validateData.bind(this);\n    this.setUsername = this.setUsername.bind(this);\n    this.setPassword = this.setPassword.bind(this);\n  }\n\n  validateForm() {\n    return this.state.username.length > 0 && this.state.password.length > 0;\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n  }\n\n  async validateData() {\n    const userData = JSON.stringify({\n      username: this.state.username,\n      password: this.state.password\n    });\n    const res = await axios.post('/api/login', userData, {});\n    var token = res.data;\n\n    if (token.access_token) {\n      login(token);\n      console.log(token);\n    } else {\n      console.log(\"Please type in correct username/password\");\n    }\n  }\n\n  setUsername(e) {\n    this.setState({\n      username: e.target.value\n    });\n  }\n\n  setPassword(e) {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      id: \"username\",\n      bssize: \"large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(FormControl, {\n      id: \"username-form\",\n      autoFocus: true,\n      type: \"text\",\n      value: this.state.username,\n      onChange: this.setUsername,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      id: \"password\",\n      bssize: \"large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(FormControl, {\n      id: \"password-form\",\n      value: this.state.password,\n      onChange: this.setPassword,\n      type: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      id: \"login-button\",\n      block: true,\n      bssize: \"large\",\n      disabled: !this.validateForm(),\n      type: \"submit\",\n      onClick: this.validateData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }\n    }, \"Login\")));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/filip/Desktop/facial-animation/frontend/src/components/Login.js"],"names":["React","Component","Button","FormGroup","FormControl","FormLabel","axios","login","authFetch","useAuth","logout","Login","constructor","props","state","username","password","status","validateForm","bind","validateData","setUsername","setPassword","length","handleSubmit","e","preventDefault","userData","JSON","stringify","res","post","token","data","access_token","console","log","setState","target","value","render"],"mappings":"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","sourcesContent":["// https://serverless-stack.com/chapters/create-a-login-page.html\nimport React, { Component } from \"react\";\nimport { Button, FormGroup, FormControl, FormLabel } from \"react-bootstrap\";\n// import \"./Login.css\";\nimport axios from 'axios';\nimport {login, authFetch, useAuth, logout} from \"../auth\"\n\nclass Login extends Component {\n  constructor(props){\n    super(props)\n    this.state={\n      username : \"\",\n      password : \"\",\n      status : \"FALSE\"\n    }\n  // const history = useHistory();\n  this.validateForm = this.validateForm.bind(this)\n  this.validateData = this.validateData.bind(this)\n  this.setUsername = this.setUsername.bind(this)\n  this.setPassword = this.setPassword.bind(this)\n  }\n\n  validateForm() {\n    return this.state.username.length > 0 && this.state.password.length > 0;\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n  }\n\n  async validateData(){\n    const userData = JSON.stringify({username : this.state.username, password : this.state.password})\n    const res = await axios.post('/api/login', userData, {});\n    var token = res.data\n    if(token.access_token){\n      login(token)\n      console.log(token)\n    }\n    else{\n      console.log(\"Please type in correct username/password\")\n    }\n  }\n\n  setUsername(e){\n    this.setState({\n      username: e.target.value\n    })\n  }\n\n  setPassword(e){\n    this.setState({\n      password: e.target.value\n    })\n  }\n\n  render(){\n    return (\n    <div className=\"Login\">\n      <form onSubmit={this.handleSubmit}>\n        <FormGroup id=\"username\" bssize=\"large\">\n          <FormLabel>Username</FormLabel>\n          <FormControl\n            id=\"username-form\"\n            autoFocus\n            type=\"text\"\n            value={this.state.username}\n            onChange={this.setUsername}\n          />\n        </FormGroup>\n        <FormGroup id=\"password\" bssize=\"large\">\n          <FormLabel>Password</FormLabel>\n          <FormControl\n            id=\"password-form\"\n            value={this.state.password}\n            onChange={this.setPassword}\n            type=\"password\"\n          />\n        </FormGroup>\n        <Button id=\"login-button\" block bssize=\"large\" disabled={!this.validateForm()} type=\"submit\" onClick={this.validateData}>\n          Login\n        </Button>\n      </form>\n    </div>\n  );\n  }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}