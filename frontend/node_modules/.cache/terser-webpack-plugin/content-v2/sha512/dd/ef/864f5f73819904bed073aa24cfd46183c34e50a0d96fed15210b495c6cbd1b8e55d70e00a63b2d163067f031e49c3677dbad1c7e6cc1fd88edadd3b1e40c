{"map":{"version":3,"sources":["static/js/main.711e4f66.chunk.js"],"names":["this","push","53","module","exports","__webpack_require__","58","59","61","81","82","89","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","react_router_dom","react_router","objectSpread2","regenerator","regenerator_default","asyncToGenerator","classCallCheck","createClass","assertThisInitialized","inherits","createSuper","createForOfIteratorHelper","toConsumableArray","three_module","GLTFLoader","OrbitControls","SkeletonUtils","components_Model","_Component","Object","Model","_super","props","_this","call","state","animationStatus","intensity","sliderValue","visemes","undefined","visemesNames","move","delta","modelControlActive","currentFrame","lidMove","lidSpeed","lidWait","exponent","obamaRatio","start","bind","animate","onWindowResize","addCube","addModel","getMouthControl","getModelControl","moveLid","nextViseme","resetModel","key","value","width","window","innerWidth","height","innerHeight","scene","camera","renderer","antialias","alpha","light","add","position","set","castShadow","z","y","controls","domElement","update","setClearColor","setSize","addEventListener","mount","appendChild","prevProps","setState","Set","console","log","x","geometry","translate","material","color","cube","_this2","load","gltf","model","clone","renderScene","error","aspect","updateProjectionMatrix","removeChild","frameId","requestAnimationFrame","_this3","traverse","o","isMesh","name","modelControl","morphTargetInfluences","modelControlDict","morphTargetDictionary","point1","point2","Math","sqrt","pow","_step","currViseme","prevViseme","_iterator","s","done","visemeName","err","e","f","i","length","render","_this4","a","createElement","ref","axios","axios_default","dist","src_components_AudioRecorder","_React$Component","AudioRecorder","startRecording","record","stopRecording","onData","recordedBlob","onStop","newRecording","File","blob","type","lastModified","Date","now","onSave","downloadLinkURL","blobURL","id","className","strokeColor","backgroundColor","mimeType","noiseSuppression","onClick","href","download","Component","Transition","lib","_createAuthProvider","accessTokenKey","onUpdateToken","token","fetch","method","body","access_token","then","json","_createAuthProvider2","useAuth","authFetch","login","defaultStyle","transition","concat","opacity","transitionStyles","entering","entered","exiting","exited","src_components_View","View","file","inputProcessed","popup","popupText","play","pause","stop","processResponse","fetchInput","playAnimation","pauseAnimation","stopAnimation","handleFile","sendFile","handleSlider","handleRecording","openPopup","closePopup","audio","Audio","loop","mounted","res","data","response","result","frame","j","slice","array","modeMap","maxEl","maxCount","el","currentTime","event","target","files","fileData","fileSource","URL","createObjectURL","filename","src","recording","_sendFile","mark","_callee","wrap","_context","prev","next","FormData","append","status","message","apply","arguments","text","in","style","accept","onChange","multiple","min","max","step","FormGroup","FormLabel","FormControl","Button","components_Login","Login","username","password","validateForm","validateData","setUsername","setPassword","preventDefault","_validateData","userData","JSON","stringify","post","sent","onSubmit","handleSubmit","bssize","autoFocus","block","disabled","src_App","_useAuth","logged","Fragment","path","to","Boolean","location","hostname","match","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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"},"code":"(this.webpackJsonpweb2=this.webpackJsonpweb2||[]).push([[0],{53:function(e,t,n){e.exports=n(89)},58:function(e,t,n){},59:function(e,t,n){},61:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},89:function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),o=n(21),s=n.n(o),r=(n(58),n(26)),l=n(50),c=n(10),d=(n(59),n(24)),u=n(22),h=n.n(u),m=n(25),p=n(2),v=n(5),f=n(7),b=n(4),y=n(3),w=(n(61),n(44)),S=n(52),g=n(0),k=n(45),E=n(46),O=n(47),j=function(e){Object(b.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={animationStatus:a.props.animationStatus,intensity:a.props.sliderValue},a.visemes=void 0,a.visemesNames=void 0,a.move=.02,a.delta=0,a.modelControlActive=!1,a.currentFrame=1,a.lidMove=.1,a.lidSpeed=.1,a.lidWait=1,a.exponent=6,a.obamaRatio=[.8,.8],a.start=a.start.bind(Object(f.a)(a)),a.animate=a.animate.bind(Object(f.a)(a)),a.onWindowResize=a.onWindowResize.bind(Object(f.a)(a)),a.addCube=a.addCube.bind(Object(f.a)(a)),a.addModel=a.addModel.bind(Object(f.a)(a)),a.getMouthControl=a.getModelControl.bind(Object(f.a)(a)),a.moveLid=a.moveLid.bind(Object(f.a)(a)),a.nextViseme=a.nextViseme.bind(Object(f.a)(a)),a.resetModel=a.resetModel.bind(Object(f.a)(a)),a}return Object(v.a)(n,[{key:\"componentDidMount\",value:function(){var e=window.innerWidth,t=window.innerHeight;this.scene=new g.fb,this.camera=new g.W(75,e/t,.1,1e3),this.renderer=new g.ub({antialias:!0,alpha:!0});var n=new g.r(12508653,14600926,.55);this.scene.add(n),(n=new g.lb(16777215,.75)).position.set(-80,100,100),n.castShadow=!0,this.scene.add(n),this.addModel(),this.camera.position.z=.5,this.camera.position.y=0,this.controls=new E.a(this.camera,this.renderer.domElement),this.controls.update(),this.renderer.setClearColor(\"#ffffff\"),this.renderer.setSize(e,t),window.addEventListener(\"resize\",this.onWindowResize,!1),this.mount.appendChild(this.renderer.domElement),this.start()}},{key:\"componentDidUpdate\",value:function(e){e.animationStatus!==this.props.animationStatus&&this.setState({animationStatus:this.props.animationStatus}),e.visemes!==this.props.visemes&&(this.visemes=this.props.visemes,this.visemesNames=Object(S.a)(new Set(this.props.visemes)),this.currentFrame=1,console.log(this.visemes),console.log(this.visemesNames)),e.sliderValue!==this.props.sliderValue&&this.setState({intensity:this.props.sliderValue})}},{key:\"addCube\",value:function(e,t,n){var a=new g.e(.1,.1,.1);a.translate(e,t,n);var i=new g.M({color:\"#433F81\"}),o=new g.L(a,i);this.scene.add(o)}},{key:\"addModel\",value:function(){var e=this;(new k.a).load(\"model/head_visemes.gltf\",(function(t){e.model=O.a.clone(t.scene),console.log(e.model),e.scene.add(e.model),e.getModelControl(),e.renderScene()}),void 0,(function(e){console.error(e)}))}},{key:\"onWindowResize\",value:function(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}},{key:\"componentWillUnmount\",value:function(){this.mount.removeChild(this.renderer.domElement)}},{key:\"start\",value:function(){this.frameId||(this.frameId=requestAnimationFrame(this.animate))}},{key:\"getModelControl\",value:function(){var e=this;this.model&&this.model.traverse((function(t){t.isMesh&&\"head\"===t.name&&(e.modelControl=t.morphTargetInfluences,e.modelControlDict=t.morphTargetDictionary,e.modelControlActive=!0)}))}},{key:\"calculateDistance\",value:function(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}},{key:\"moveLid\",value:function(){this.modelControl[this.modelControlDict.wink]<=0?(this.lidWait>100?(this.lidMove=this.lidSpeed,this.lidWait=0):this.lidMove=0,this.lidWait+=1):this.modelControl[this.modelControlDict.wink]>1&&(this.lidMove=-this.lidMove),this.modelControl[this.modelControlDict.wink]=this.modelControl[this.modelControlDict.wink]+this.lidMove}},{key:\"nextViseme\",value:function(){this.currentFrame<1&&(this.currentFrame=1);var e,t=this.visemes[this.currentFrame],n=this.visemes[this.currentFrame-1],a=Object(w.a)(this.visemesNames);try{for(a.s();!(e=a.n()).done;){var i=e.value;i===t?(this.modelControl[this.modelControlDict[i]]+=this.state.intensity/this.exponent,this.modelControl[this.modelControlDict[i]]>1&&(this.modelControl[this.modelControlDict[i]]=1)):(this.modelControl[this.modelControlDict[i]]-=this.state.intensity/(10-this.exponent),this.modelControl[this.modelControlDict[i]]<0&&(this.modelControl[this.modelControlDict[i]]=0))}}catch(o){a.e(o)}finally{a.f()}t===n?(this.exponent-=1,this.exponent<2&&(this.exponent=2)):this.exponent=8}},{key:\"resetModel\",value:function(){if(this.lidWait=0,this.modelControl)for(var e=0;e<this.modelControl.length;e++)this.modelControl[e]=0}},{key:\"animate\",value:function(){\"PLAY\"===this.state.animationStatus&&this.modelControlActive?(this.nextViseme(),this.moveLid(),this.currentFrame>=this.visemes.length&&(this.currentFrame=0),this.currentFrame+=1):\"STOP\"===this.state.animationStatus&&(this.currentFrame=1,this.resetModel()),this.controls.update(),this.renderScene(),this.frameId=window.requestAnimationFrame(this.animate)}},{key:\"renderScene\",value:function(){this.renderer.render(this.scene,this.camera)}},{key:\"render\",value:function(){var e=this;return i.a.createElement(\"div\",{ref:function(t){e.mount=t}})}}]),n}(a.Component),C=n(29),P=n.n(C),F=n(48),M=(n(81),function(e){Object(b.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).startRecording=function(){a.setState({record:!0})},a.stopRecording=function(){a.setState({record:!1})},a.onData=function(e){},a.onStop=function(e){console.log(\"recordedBlob is: \",e),a.props.newRecording(new File([e.blob],\"recording.wav\",{type:\"audio/wav\",lastModified:Date.now()}))},a.onSave=function(e){a.setState({downloadLinkURL:e.blobURL})},a.state={record:!1,downloadLinkURL:null},a}return Object(v.a)(n,[{key:\"render\",value:function(){return i.a.createElement(\"div\",{id:\"recorder-container\"},i.a.createElement(F.ReactMic,{record:this.state.record,className:\"sound-wave\",onStop:this.onStop,onData:this.onData,onSave:this.onSave,strokeColor:\"#000000\",backgroundColor:\"#FFFFFF\",mimeType:\"audio/wav\",width:100,height:50,noiseSuppression:!0}),i.a.createElement(\"button\",{className:\"record-button record\",onClick:this.startRecording,type:\"button\"},\"Start\"),i.a.createElement(\"button\",{className:\"record-button record\",onClick:this.stopRecording,type:\"button\"},\"Stop\"),i.a.createElement(\"a\",{className:\"record\",href:this.state.downloadLinkURL,download:\"recording.wav\"},\"Download\"))}}]),n}(i.a.Component)),A=(n(82),n(94)),D=n(49),R=Object(D.createAuthProvider)({accessTokenKey:\"access_token\",onUpdateToken:function(e){return fetch(\"/api/refresh\",{method:\"POST\",body:e.access_token}).then((function(e){return e.json()}))}}),x=Object(r.a)(R,4),U=x[0],L=x[1],N=x[2],W=(x[3],{transition:\"opacity \".concat(300,\"ms ease-in-out\"),opacity:0}),T={entering:{opacity:1},entered:{opacity:1},exiting:{opacity:0},exited:{opacity:0}},z=function(e){Object(b.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={file:void 0,animationStatus:\"STOP\",visemes:void 0,inputProcessed:!1,sliderValue:.4,popup:!1,popupText:\"\"},a.move=.02,a.delta=0,a.modelControlActive=!1,a.currentFrame=0,a.lidMove=.1,a.lidSpeed=.1,a.lidWait=1,a.play=a.play.bind(Object(f.a)(a)),a.pause=a.pause.bind(Object(f.a)(a)),a.stop=a.stop.bind(Object(f.a)(a)),a.processResponse=a.processResponse.bind(Object(f.a)(a)),a.fetchInput=a.fetchInput.bind(Object(f.a)(a)),a.playAnimation=a.playAnimation.bind(Object(f.a)(a)),a.pauseAnimation=a.pauseAnimation.bind(Object(f.a)(a)),a.stopAnimation=a.stopAnimation.bind(Object(f.a)(a)),a.handleFile=a.handleFile.bind(Object(f.a)(a)),a.sendFile=a.sendFile.bind(Object(f.a)(a)),a.handleSlider=a.handleSlider.bind(Object(f.a)(a)),a.handleRecording=a.handleRecording.bind(Object(f.a)(a)),a.openPopup=a.openPopup.bind(Object(f.a)(a)),a.closePopup=a.closePopup.bind(Object(f.a)(a)),a}return Object(v.a)(n,[{key:\"componentDidMount\",value:function(){this.fetchInput(),this.audio=new Audio,this.audio.loop=!0,this.setState({mounted:!0})}},{key:\"componentDidUpdate\",value:function(){}},{key:\"fetchInput\",value:function(){fetch(\"/api/time\").then((function(e){return e.json()})).then((function(e){console.log(e)}))}},{key:\"calculateDistance\",value:function(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}},{key:\"processResponse\",value:function(e){for(var t=[],n=void 0,a=void 0,i=0;i<e.length;i+=100/60)n=e.slice(i,i+100/60)[0],t.push(n),(a=t.length-1)>=3&&t[a-2]!==t[a-1]&&t[a-1]!==t[a]&&(t[t.length-2]=t[t.length-3]),a>=4&&t[a]!==t[a-1]&&(t[a-1]===t[a-2]&&t[a-2]===t[a-3]||(t[a-1]=t[a],t[a-2]=t[a-3]));this.setState({visemes:t,inputProcessed:!0})}},{key:\"maxElement\",value:function(e){if(0===e.length)return null;for(var t={},n=e[0],a=1,i=0;i<e.length;i++){var o=e[i];null==t[o]?t[o]=1:t[o]++,t[o]>a&&(n=o,a=t[o])}return n}},{key:\"stop\",value:function(){\"PLAY\"!==this.state.animationStatus&&\"PAUSE\"!==this.state.animationStatus||(this.audio.pause(),this.audio.currentTime=0,this.setState({animationStatus:\"STOP\"}))}},{key:\"play\",value:function(){\"STOP\"!==this.state.animationStatus&&\"PAUSE\"!==this.state.animationStatus||(this.audio.play(),this.setState({animationStatus:\"PLAY\"}))}},{key:\"pause\",value:function(){\"PLAY\"===this.state.animationStatus&&(this.audio.pause(),this.setState({animationStatus:\"PAUSE\"}))}},{key:\"playAnimation\",value:function(){this.state.inputProcessed?this.play():this.openPopup(\"Upload the audio file to the server!\")}},{key:\"stopAnimation\",value:function(){this.state.inputProcessed?this.stop():this.openPopup(\"Upload the audio file to the server!\")}},{key:\"pauseAnimation\",value:function(){this.state.inputProcessed?this.pause():this.openPopup(\"Upload the audio file to the server!\")}},{key:\"handleFile\",value:function(e){if(console.log(e.target.files),e.target.files.length>0){var t=e.target.files[0],n=URL.createObjectURL(t);this.stop(),this.setState({file:t,inputProcessed:!1,filename:t.name}),this.audio.src=n}}},{key:\"handleRecording\",value:function(e){this.stop(),this.setState({file:e,inputProcessed:!1,filename:\"Recording\"}),this.audio.src=URL.createObjectURL(e),console.log(this.state.file,this.audio.src)}},{key:\"sendFile\",value:function(){var e=Object(m.a)(h.a.mark((function e(){var t,n=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.file?((t=new FormData).append(\"file\",this.state.file),this.setState({inputProcessed:void 0}),this.stop(),L(\"/api/upload\",{method:\"POST\",body:t}).then((function(e){return console.log(e),401===e.status?(n.setState({inputProcessed:!1}),n.openPopup(\"Sorry you aren't authorized!\"),null):200!==e.status?(n.setState({inputProcessed:!1}),n.openPopup(\"Server failure!\"),null):e.json()})).then((function(e){console.log(e),e&&(200===e.status?n.processResponse(e.result):\"Extension\"===e.message?(n.setState({inputProcessed:!1}),n.openPopup(\"Incorrect extension! Upload .wav and .mp3 files.\")):\"Model\"===e.message&&(n.setState({inputProcessed:!1}),n.openPopup(\"Model failure!\")))}))):this.openPopup(\"Choose a file!\");case 1:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:\"handleSlider\",value:function(e){this.setState({sliderValue:e.target.value})}},{key:\"openPopup\",value:function(e){this.setState({popup:!0,popupText:e})}},{key:\"closePopup\",value:function(){this.setState({popup:!1,popupText:\"\"})}},{key:\"render\",value:function(){var e=this;return i.a.createElement(\"div\",{id:\"view-container\"},i.a.createElement(A.a,{in:this.state.popup},(function(t){return i.a.createElement(\"div\",{style:Object(d.a)(Object(d.a)({},W),T[t])},e.state.popup&&i.a.createElement(\"div\",{className:\"background\"},i.a.createElement(\"div\",{className:\"popup\"},i.a.createElement(\"div\",{id:\"popup-text\"},e.state.popupText),i.a.createElement(\"button\",{id:\"popup-close\",onClick:e.closePopup},\"X\"))))})),i.a.createElement(A.a,{in:void 0===this.state.inputProcessed},(function(t){return i.a.createElement(\"div\",{style:Object(d.a)(Object(d.a)({},W),T[t])},void 0===e.state.inputProcessed&&i.a.createElement(\"div\",{className:\"background\"},i.a.createElement(\"div\",{className:\"loader\"})))})),i.a.createElement(\"div\",{className:\"top vertical\"},i.a.createElement(M,{newRecording:this.handleRecording}),i.a.createElement(\"label\",{className:\"styled-button horizontal\"},i.a.createElement(\"div\",null,\"Choose file\"),i.a.createElement(\"div\",{id:\"chosen-file\"},this.state.filename),i.a.createElement(\"input\",{id:\"choose-file\",type:\"file\",accept:\"audio/wav, audio/mp3\",onChange:this.handleFile,multiple:!1})),i.a.createElement(\"button\",{id:\"upload-button\",className:\"styled-button narrow\",onClick:this.sendFile},\"Upload\")),i.a.createElement(j,{id:\"model\",animationStatus:this.state.animationStatus,visemes:this.state.visemes,sliderValue:this.state.sliderValue}),i.a.createElement(\"div\",{className:\"bottom horizontal\"},i.a.createElement(\"button\",{id:\"play\",className:\"player styled-button\",onClick:this.playAnimation},\"Play\"),i.a.createElement(\"button\",{id:\"pause\",className:\"player styled-button\",onClick:this.pauseAnimation},\"Pause\"),i.a.createElement(\"button\",{id:\"stop\",className:\"player styled-button\",onClick:this.stopAnimation},\"Stop\"),i.a.createElement(\"span\",{className:\"spacer\"}),i.a.createElement(\"div\",{id:\"slider-container\",className:\"player\"},i.a.createElement(\"input\",{type:\"range\",id:\"slider\",min:.1,max:1,value:this.state.sliderValue,step:.05,onChange:this.handleSlider}),i.a.createElement(\"div\",null,this.state.sliderValue))))}}]),n}(a.Component),V=n(93),I=n(97),q=n(96),Y=n(95),_=function(e){Object(b.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={username:\"\",password:\"\",status:\"FALSE\"},a.validateForm=a.validateForm.bind(Object(f.a)(a)),a.validateData=a.validateData.bind(Object(f.a)(a)),a.setUsername=a.setUsername.bind(Object(f.a)(a)),a.setPassword=a.setPassword.bind(Object(f.a)(a)),a}return Object(v.a)(n,[{key:\"validateForm\",value:function(){return this.state.username.length>0&&this.state.password.length>0}},{key:\"handleSubmit\",value:function(e){e.preventDefault()}},{key:\"validateData\",value:function(){var e=Object(m.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.stringify({username:this.state.username,password:this.state.password}),e.next=3,P.a.post(\"/api/login\",t,{});case 3:n=e.sent,(a=n.data).access_token?(N(a),console.log(a)):console.log(\"Please type in correct username/password\");case 6:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:\"setUsername\",value:function(e){this.setState({username:e.target.value})}},{key:\"setPassword\",value:function(e){this.setState({password:e.target.value})}},{key:\"render\",value:function(){return i.a.createElement(\"div\",{className:\"Login\"},i.a.createElement(\"form\",{onSubmit:this.handleSubmit},i.a.createElement(V.a,{id:\"username\",bssize:\"large\"},i.a.createElement(I.a,null,\"Username\"),i.a.createElement(q.a,{id:\"username-form\",autoFocus:!0,type:\"text\",value:this.state.username,onChange:this.setUsername})),i.a.createElement(V.a,{id:\"password\",bssize:\"large\"},i.a.createElement(I.a,null,\"Password\"),i.a.createElement(q.a,{id:\"password-form\",value:this.state.password,onChange:this.setPassword,type:\"password\"})),i.a.createElement(Y.a,{id:\"login-button\",block:!0,bssize:\"large\",disabled:!this.validateForm(),type:\"submit\",onClick:this.validateData},\"Login\")))}}]),n}(a.Component);var B=function(){var e=U(),t=Object(r.a)(e,1)[0];return console.log(t),i.a.createElement(\"div\",{className:\"App\"},i.a.createElement(l.a,null,i.a.createElement(c.d,null,!t&&i.a.createElement(i.a.Fragment,null,i.a.createElement(c.b,{path:\"/\"},i.a.createElement(_,null)),i.a.createElement(c.a,{to:\"/\"})),t&&i.a.createElement(i.a.Fragment,null,i.a.createElement(c.b,{path:\"/lipsync\"},i.a.createElement(z,null)),i.a.createElement(c.a,{to:\"/lipsync\"})))))};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(B,null)),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[53,1,2]]]);","extractedComments":[]}